{
  "_format": "hh-sol-artifact-1",
  "contractName": "UnlockSwapPurchaser",
  "sourceName": "contracts/UnlockSwapPurchaser.flatten.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_unlockAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_permit2Address",
          "type": "address"
        },
        {
          "internalType": "address[]",
          "name": "_uniswapRouters",
          "type": "address[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LockCallFailed",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "lockAddress",
          "type": "address"
        }
      ],
      "name": "LockDoesntExist",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "uniswapRouter",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "tokenIn",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "tokenOut",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amountInMax",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "callData",
          "type": "bytes"
        }
      ],
      "name": "SwapFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnauthorizedBalanceChange",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "routerAddress",
          "type": "address"
        }
      ],
      "name": "UnautorizedRouter",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnsafeCast",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "WithdrawFailed",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "lock",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "tokenAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountSpent",
          "type": "uint256"
        }
      ],
      "name": "SwapCall",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "permit2",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "lock",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "srcToken",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "keyPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amountInMax",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "uniswapRouter",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "swapCalldata",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "callData",
          "type": "bytes"
        }
      ],
      "name": "swapAndCall",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "unlockAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "tokenAddress",
          "type": "address"
        }
      ],
      "name": "withdrawToUnlock",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x608060405234801562000010575f80fd5b5060405162000fa238038062000fa2833981016040819052620000339162000103565b5f80546001600160a01b038086166001600160a01b031992831617835560018054918616919092161790555b8151811015620000c957600160025f848481518110620000835762000083620001f7565b6020908102919091018101516001600160a01b031682528101919091526040015f20805460ff191691151591909117905580620000c0816200020b565b9150506200005f565b5050505062000230565b80516001600160a01b0381168114620000ea575f80fd5b919050565b634e487b7160e01b5f52604160045260245ffd5b5f805f6060848603121562000116575f80fd5b6200012184620000d3565b9250602062000132818601620000d3565b60408601519093506001600160401b03808211156200014f575f80fd5b818701915087601f83011262000163575f80fd5b815181811115620001785762000178620000ef565b8060051b604051601f19603f83011681018181108582111715620001a057620001a0620000ef565b60405291825284820192508381018501918a831115620001be575f80fd5b938501935b82851015620001e757620001d785620000d3565b84529385019392850192620001c3565b8096505050505050509250925092565b634e487b7160e01b5f52603260045260245ffd5b5f600182016200022957634e487b7160e01b5f52601160045260245ffd5b5060010190565b610d64806200023e5f395ff3fe608060405260043610610041575f3560e01c806302837f7b1461004c57806312261ee71461006d57806315813ad2146100a2578063b30929cd146100c2575f80fd5b3661004857005b5f80fd5b348015610057575f80fd5b5061006b610066366004610a15565b6100e0565b005b348015610078575f80fd5b5060015461008c906001600160a01b031681565b6040516100999190610a37565b60405180910390f35b6100b56100b0366004610ae8565b6101e9565b6040516100999190610bdd565b3480156100cd575f80fd5b505f5461008c906001600160a01b031681565b5f6100ea826106a5565b90506001600160a01b03821615610173575f5460405163a9059cbb60e01b81526001600160a01b038481169263a9059cbb9261012e92909116908590600401610bef565b6020604051808303815f875af115801561014a573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061016e9190610c17565b505050565b5f80546040516001600160a01b039091169083908381818185875af1925050503d805f81146101bd576040519150601f19603f3d011682016040523d82523d5f602084013e6101c2565b606091505b50909150508015155f0361016e57604051631d42c86760e21b815260040160405180910390fd5b60606101f48861072d565b506001600160a01b0384165f9081526002602052604090205460ff16151560011461023d578360405163f2f52fc960e01b81526004016102349190610a37565b60405180910390fd5b5f886001600160a01b0316639d76ea586040518163ffffffff1660e01b8152600401602060405180830381865afa15801561027a573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061029e9190610c30565b90505f6001600160a01b038216156102be576102b9826106a5565b6102d2565b346102c8836106a5565b6102d29190610c5f565b90505f6001600160a01b038a16156102f2576102ed8a6106a5565b610306565b346102fc8b6106a5565b6103069190610c5f565b90506001600160a01b038a16156103a4576103238a33308b6107c7565b61032e8a888a6108cc565b60015460405163095ea7b360e01b81526001600160a01b038c81169263095ea7b39261036292909116908c90600401610bef565b6020604051808303815f875af115801561037e573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103a29190610c17565b505b6001546001600160a01b03166387517c458b896103c08c6109d1565b6103cb42603c610c72565b6040516001600160e01b031960e087901b1681526001600160a01b03948516600482015292841660248401529216604482015265ffffffffffff90911660648201526084015f604051808303815f87803b158015610427575f80fd5b505af1158015610439573d5f803e3d5ffd5b505f9250506001600160a01b03808a1691508c1615610458575f61045a565b345b886040516104689190610c85565b5f6040518083038185875af1925050503d805f81146104a2576040519150601f19603f3d011682016040523d82523d5f602084013e6104a7565b606091505b50909150508015155f036104d857878b858b8a604051637bd486e960e11b8152600401610234959493929190610ca0565b6104e28a84610c72565b6001600160a01b038516156104ff576104fa856106a5565b610513565b34610509866106a5565b6105139190610c5f565b101561053257604051631e9acf1760e31b815260040160405180910390fd5b6001600160a01b038416156105b15760405163095ea7b360e01b81526001600160a01b0385169063095ea7b39061056f908f908e90600401610bef565b6020604051808303815f875af115801561058b573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105af9190610c17565b505b5f806001600160a01b03808f16908716156105cc575f6105ce565b8c5b896040516105dc9190610c85565b5f6040518083038185875af1925050503d805f8114610616576040519150601f19603f3d011682016040523d82523d5f602084013e61061b565b606091505b5090925090508115155f0361064357604051637772507160e11b815260040160405180910390fd5b5f8461064e8f6106a5565b6106589190610c5f565b108061067657505f8561066a886106a5565b6106749190610c5f565b105b156106945760405163392032cb60e21b815260040160405180910390fd5b9d9c50505050505050505050505050565b5f6001600160a01b03821615610725576040516370a0823160e01b81526001600160a01b038316906370a08231906106e1903090600401610a37565b602060405180830381865afa1580156106fc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107209190610ce5565b610727565b475b92915050565b5f8054604051635de9a13760e01b81526001600160a01b0390911690635de9a1379061075d908590600401610a37565b606060405180830381865afa158015610778573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061079c9190610cfc565b509091508190506107c25781604051637421631960e11b81526004016102349190610a37565b919050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291515f9283929088169161082a9190610c85565b5f604051808303815f865af19150503d805f8114610863576040519150601f19603f3d011682016040523d82523d5f602084013e610868565b606091505b50915091508180156108925750805115806108925750808060200190518101906108929190610c17565b6108c45760405162461bcd60e51b815260206004820152600360248201526229aa2360e91b6044820152606401610234565b505050505050565b5f80846001600160a01b031663095ea7b360e01b85856040516024016108f3929190610bef565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b03199094169390931790925290516109319190610c85565b5f604051808303815f865af19150503d805f811461096a576040519150601f19603f3d011682016040523d82523d5f602084013e61096f565b606091505b50915091508180156109995750805115806109995750808060200190518101906109999190610c17565b6109ca5760405162461bcd60e51b8152602060048201526002602482015261534160f01b6044820152606401610234565b5050505050565b5f6001600160a01b038211156109fa5760405163c4bd89a960e01b815260040160405180910390fd5b5090565b6001600160a01b0381168114610a12575f80fd5b50565b5f60208284031215610a25575f80fd5b8135610a30816109fe565b9392505050565b6001600160a01b0391909116815260200190565b634e487b7160e01b5f52604160045260245ffd5b5f82601f830112610a6e575f80fd5b813567ffffffffffffffff80821115610a8957610a89610a4b565b604051601f8301601f19908116603f01168101908282118183101715610ab157610ab1610a4b565b81604052838152866020858801011115610ac9575f80fd5b836020870160208301375f602085830101528094505050505092915050565b5f805f805f805f60e0888a031215610afe575f80fd5b8735610b09816109fe565b96506020880135610b19816109fe565b955060408801359450606088013593506080880135610b37816109fe565b925060a088013567ffffffffffffffff80821115610b53575f80fd5b610b5f8b838c01610a5f565b935060c08a0135915080821115610b74575f80fd5b50610b818a828b01610a5f565b91505092959891949750929550565b5f5b83811015610baa578181015183820152602001610b92565b50505f910152565b5f8151808452610bc9816020860160208601610b90565b601f01601f19169290920160200192915050565b602081525f610a306020830184610bb2565b6001600160a01b03929092168252602082015260400190565b805180151581146107c2575f80fd5b5f60208284031215610c27575f80fd5b610a3082610c08565b5f60208284031215610c40575f80fd5b8151610a30816109fe565b634e487b7160e01b5f52601160045260245ffd5b8181038181111561072757610727610c4b565b8082018082111561072757610727610c4b565b5f8251610c96818460208701610b90565b9190910192915050565b6001600160a01b0386811682528581166020830152841660408201526060810183905260a0608082018190525f90610cda90830184610bb2565b979650505050505050565b5f60208284031215610cf5575f80fd5b5051919050565b5f805f60608486031215610d0e575f80fd5b610d1784610c08565b92506020840151915060408401519050925092509256fea2646970667358221220ea3bd5c7b5509cb7c168f012e8cf37063f84b2c03f1510b84a3df402559e861864736f6c63430008150033",
  "deployedBytecode": "0x608060405260043610610041575f3560e01c806302837f7b1461004c57806312261ee71461006d57806315813ad2146100a2578063b30929cd146100c2575f80fd5b3661004857005b5f80fd5b348015610057575f80fd5b5061006b610066366004610a15565b6100e0565b005b348015610078575f80fd5b5060015461008c906001600160a01b031681565b6040516100999190610a37565b60405180910390f35b6100b56100b0366004610ae8565b6101e9565b6040516100999190610bdd565b3480156100cd575f80fd5b505f5461008c906001600160a01b031681565b5f6100ea826106a5565b90506001600160a01b03821615610173575f5460405163a9059cbb60e01b81526001600160a01b038481169263a9059cbb9261012e92909116908590600401610bef565b6020604051808303815f875af115801561014a573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061016e9190610c17565b505050565b5f80546040516001600160a01b039091169083908381818185875af1925050503d805f81146101bd576040519150601f19603f3d011682016040523d82523d5f602084013e6101c2565b606091505b50909150508015155f0361016e57604051631d42c86760e21b815260040160405180910390fd5b60606101f48861072d565b506001600160a01b0384165f9081526002602052604090205460ff16151560011461023d578360405163f2f52fc960e01b81526004016102349190610a37565b60405180910390fd5b5f886001600160a01b0316639d76ea586040518163ffffffff1660e01b8152600401602060405180830381865afa15801561027a573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061029e9190610c30565b90505f6001600160a01b038216156102be576102b9826106a5565b6102d2565b346102c8836106a5565b6102d29190610c5f565b90505f6001600160a01b038a16156102f2576102ed8a6106a5565b610306565b346102fc8b6106a5565b6103069190610c5f565b90506001600160a01b038a16156103a4576103238a33308b6107c7565b61032e8a888a6108cc565b60015460405163095ea7b360e01b81526001600160a01b038c81169263095ea7b39261036292909116908c90600401610bef565b6020604051808303815f875af115801561037e573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103a29190610c17565b505b6001546001600160a01b03166387517c458b896103c08c6109d1565b6103cb42603c610c72565b6040516001600160e01b031960e087901b1681526001600160a01b03948516600482015292841660248401529216604482015265ffffffffffff90911660648201526084015f604051808303815f87803b158015610427575f80fd5b505af1158015610439573d5f803e3d5ffd5b505f9250506001600160a01b03808a1691508c1615610458575f61045a565b345b886040516104689190610c85565b5f6040518083038185875af1925050503d805f81146104a2576040519150601f19603f3d011682016040523d82523d5f602084013e6104a7565b606091505b50909150508015155f036104d857878b858b8a604051637bd486e960e11b8152600401610234959493929190610ca0565b6104e28a84610c72565b6001600160a01b038516156104ff576104fa856106a5565b610513565b34610509866106a5565b6105139190610c5f565b101561053257604051631e9acf1760e31b815260040160405180910390fd5b6001600160a01b038416156105b15760405163095ea7b360e01b81526001600160a01b0385169063095ea7b39061056f908f908e90600401610bef565b6020604051808303815f875af115801561058b573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105af9190610c17565b505b5f806001600160a01b03808f16908716156105cc575f6105ce565b8c5b896040516105dc9190610c85565b5f6040518083038185875af1925050503d805f8114610616576040519150601f19603f3d011682016040523d82523d5f602084013e61061b565b606091505b5090925090508115155f0361064357604051637772507160e11b815260040160405180910390fd5b5f8461064e8f6106a5565b6106589190610c5f565b108061067657505f8561066a886106a5565b6106749190610c5f565b105b156106945760405163392032cb60e21b815260040160405180910390fd5b9d9c50505050505050505050505050565b5f6001600160a01b03821615610725576040516370a0823160e01b81526001600160a01b038316906370a08231906106e1903090600401610a37565b602060405180830381865afa1580156106fc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107209190610ce5565b610727565b475b92915050565b5f8054604051635de9a13760e01b81526001600160a01b0390911690635de9a1379061075d908590600401610a37565b606060405180830381865afa158015610778573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061079c9190610cfc565b509091508190506107c25781604051637421631960e11b81526004016102349190610a37565b919050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291515f9283929088169161082a9190610c85565b5f604051808303815f865af19150503d805f8114610863576040519150601f19603f3d011682016040523d82523d5f602084013e610868565b606091505b50915091508180156108925750805115806108925750808060200190518101906108929190610c17565b6108c45760405162461bcd60e51b815260206004820152600360248201526229aa2360e91b6044820152606401610234565b505050505050565b5f80846001600160a01b031663095ea7b360e01b85856040516024016108f3929190610bef565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b03199094169390931790925290516109319190610c85565b5f604051808303815f865af19150503d805f811461096a576040519150601f19603f3d011682016040523d82523d5f602084013e61096f565b606091505b50915091508180156109995750805115806109995750808060200190518101906109999190610c17565b6109ca5760405162461bcd60e51b8152602060048201526002602482015261534160f01b6044820152606401610234565b5050505050565b5f6001600160a01b038211156109fa5760405163c4bd89a960e01b815260040160405180910390fd5b5090565b6001600160a01b0381168114610a12575f80fd5b50565b5f60208284031215610a25575f80fd5b8135610a30816109fe565b9392505050565b6001600160a01b0391909116815260200190565b634e487b7160e01b5f52604160045260245ffd5b5f82601f830112610a6e575f80fd5b813567ffffffffffffffff80821115610a8957610a89610a4b565b604051601f8301601f19908116603f01168101908282118183101715610ab157610ab1610a4b565b81604052838152866020858801011115610ac9575f80fd5b836020870160208301375f602085830101528094505050505092915050565b5f805f805f805f60e0888a031215610afe575f80fd5b8735610b09816109fe565b96506020880135610b19816109fe565b955060408801359450606088013593506080880135610b37816109fe565b925060a088013567ffffffffffffffff80821115610b53575f80fd5b610b5f8b838c01610a5f565b935060c08a0135915080821115610b74575f80fd5b50610b818a828b01610a5f565b91505092959891949750929550565b5f5b83811015610baa578181015183820152602001610b92565b50505f910152565b5f8151808452610bc9816020860160208601610b90565b601f01601f19169290920160200192915050565b602081525f610a306020830184610bb2565b6001600160a01b03929092168252602082015260400190565b805180151581146107c2575f80fd5b5f60208284031215610c27575f80fd5b610a3082610c08565b5f60208284031215610c40575f80fd5b8151610a30816109fe565b634e487b7160e01b5f52601160045260245ffd5b8181038181111561072757610727610c4b565b8082018082111561072757610727610c4b565b5f8251610c96818460208701610b90565b9190910192915050565b6001600160a01b0386811682528581166020830152841660408201526060810183905260a0608082018190525f90610cda90830184610bb2565b979650505050505050565b5f60208284031215610cf5575f80fd5b5051919050565b5f805f60608486031215610d0e575f80fd5b610d1784610c08565b92506020840151915060408401519050925092509256fea2646970667358221220ea3bd5c7b5509cb7c168f012e8cf37063f84b2c03f1510b84a3df402559e861864736f6c63430008150033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
