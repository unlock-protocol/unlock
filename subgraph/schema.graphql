type Lock @entity {
  id: ID!
  address: Bytes!
  tokenAddress: Bytes!
  price: BigInt!
  lockManagers: [Bytes!]!
  version: BigInt!
  keys: [Key!] @derivedFrom(field: "lock")
  createdAtBlock: BigInt
}

type Key @entity {
  id: ID!
  lock: Lock!
  tokenId: BigInt!
  owner: KeyOwner!
  manager: Bytes
  expiration: BigInt!
  tokenURI: String
  createdAtBlock: BigInt!
  cancelled: Boolean
}

type KeyOwner @entity {
  id: ID!
  address: Bytes!
  keys: [Key!] @derivedFrom(field: "owner")
}
