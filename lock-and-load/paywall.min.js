!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t=t||self).paywall=t.paywall||{},t.paywall.js=e())}(this,function(){"use strict";var c=["display:none","position:fixed","top:0","left:0","width:100%","height:100vh","border:0px","background: linear-gradient(to bottom, rgba(255,255,255,0) 18%, rgba(255,255,255,0) 29%, rgba(255,255,255,1) 48%, rgba(255,255,255,1) 100%)","z-index: -2147483647"];var s="http://localhost:3000";return function(t,e,a){e.unlock_url||(t=function(t){for(var e=t.getElementsByTagName("script"),a=0;a<e.length;a++)if(/static\/paywall/i.test(e[a].getAttribute("src")))return e[a].getAttribute("src").replace("/static/paywall.js","");return s}(a));var r,n,i=a.querySelector("meta[name=lock]");if(i){t+="/paywall/".concat(o,"/");var o=i.getAttribute("content"),l=(r=t,(n=a.createElement("iframe")).setAttribute("style",c.join(" ")),n.setAttribute("src",r),n);a.body.appendChild(l);var d=!1;e.addEventListener("message",function(t){var e;"locked"!==t.data||d||(d=!0,(e=l).style.display="block",e.style["z-index"]="2147483647"),"unlocked"===t.data&&(d=!1,document.body.removeChild(l))},!1)}}});
