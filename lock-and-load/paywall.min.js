!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e=e||self).paywall=e.paywall||{},e.paywall.js=t())}(this,function(){"use strict";var d=["display:none","position:fixed","top:0","left:0","width:100%","height:100vh","border:0px","background: linear-gradient(rgba(255,255,255,0) 18%, rgba(255,255,255,0) 29%, rgb(255,255,255) 48%)","z-index: -2147483647"];var c="http://localhost:3000";function e(e,t){var n=e.unlock_url;n||(n=function(e){for(var t=e.getElementsByTagName("script"),n=/static\/paywall/i,a=0;a<t.length;a++){var r=t[a].getAttribute("src");if(n.test(r))return r.replace("/static/paywall.min.js","")}return c}(t));var a=t.querySelector("meta[name=lock]").getAttribute("content");if(a){var r,o,i=(r=n+="/paywall/".concat(a,"/"),(o=t.createElement("iframe")).setAttribute("style",d.join("; ")),o.setAttribute("src",r),o);t.body.appendChild(i);var l=!1;e.addEventListener("message",function(e){var t,n;"locked"!==e.data||l||(l=!0,(t=i).style.display="block",t.style["z-index"]="2147483647"),"unlocked"===e.data&&(l=!1,(n=i).style.backgroundColor="transparent",n.style.backgroundImage="none")},!1)}}return window.onload=function(){return e(window,document)},e});
